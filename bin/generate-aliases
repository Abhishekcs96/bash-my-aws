#!/bin/bash

# load all the functions from bash-my-aws
for f in ~/.bash-my-aws/lib/*-functions; do source $f; done

# generate the aliases file
echo "# GENERATED ALIASES FOR BASH-MY-AWS" > ~/.bash-my-aws/aliases
echo -e "# to regenerate run: bin/generate_aliases.sh \n" >> ~/.bash-my-aws/aliases
# generate the functions except for functions starting with _
for fnc in $(compgen -A function); do
  echo "alias $fnc='~/.bash-my-aws/bin/bma $fnc'" >> ~/.bash-my-aws/aliases
done;

# region() needs to be a function in order to let it set AWS_DEFAULT_REGION
# in the current shell
echo "unalias region" >> ~/.bash-my-aws/aliases
